<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Speech to Text</title>
</head>

<body>


    <span id="final" class="text-light"></span>

    <div class="mt-4">
        <button class="btn btn-success" id="start">Start</button>
    </div>
</body>
<script>
    if ("webkitSpeechRecognition" in window) {
        // Initialize webkitSpeechRecognition
        let speechRecognition = new webkitSpeechRecognition();

        // String for the Final Transcript
        let final_transcript = "";
        // Set the properties for the Speech Recognition object
        speechRecognition.continuous = true;
        speechRecognition.onresult = (event) => {
            // Create the interim transcript string locally because we don't want it to persist like final transcript

            // Loop through the results from the speech recognition object.
            for (let i = event.resultIndex; i < event.results.length; ++i) {
                // If the result item is Final, add it to Final Transcript, Else add it to Interim transcript
                if (event.results[i].isFinal) {
                    final_transcript = event.results[i][0].transcript;
                }
            }

            // Set the Final transcript and Interim transcript.
            document.querySelector("#final").innerHTML = final_transcript;
            // console.log(final_transcript);
            var reply = final_transcript;
        if (reply.includes("how are you") == true) {
            alert("fine")
        }

        else if (reply.includes("what is your name") == true) {
            alert("i am gizmo")
        }
        };

        // Set the onClick property of the start button
        document.querySelector("#start").onclick = () => {
            // Start the Speech Recognition
            speechRecognition.start();
        };
      


    } 
    
    else {
        console.log("Speech Recognition Not Available");
    }
</script>
</body>

</html>